# Fibonacci number

## written in C

```c
int fib(int n);

int main()
{
    int a = fib(10);
}

int fib(int n)
{
    if (n == 0) return 0;
    if (n == 1) return 1;
    return fib(n - 1) + fib(n - 2);
}
```

## run on emulator

emulator: https://github.com/0n1shi/mipsemu 

```
$ go run cmd/emu/main.go -f bin/main

# registers
---------------------------------------------------------------------
Zero:         0 | AT:           0 | V0:           0 | V1:          55
A0:           0 | A1:           0 | A2:           0 | A3:           0
T0:           0 | T1:           0 | T2:           0 | T3:           0
T4:           0 | T5:           0 | T6:           0 | T7:           0
S0:           0 | S1:           0 | S2:           0 | S3:           0
S4:           0 | S5:           0 | S6:           0 | S7:           0
T8:           0 | T9:           0 | K0:           0 | K1:           0
GP:           0 | SP:      0xFFFF | FP:      0x0000 | RA:           0
PC:  0x00000040 | HI:           0 | LO:           0

# data
----------------------------------------------------------------------------
0x8000:    37 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  7...............
0x8010:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8020:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8030:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8040:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8050:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8060:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8070:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8080:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x8090:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80A0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80B0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80C0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80D0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80E0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0x80F0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................

# stack
----------------------------------------------------------------------------
0xFF00:    00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 17  ................
0xFF10:    FF 00 00 C4 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFF20:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFF30:    00 00 00 02 00 00 00 3F FF 00 00 C4 00 00 00 02  .......?........
0xFF40:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFF50:    00 00 00 00 00 00 00 00 00 00 00 05 00 00 00 67  ...............g
0xFF60:    FF 00 00 C4 00 00 00 04 00 00 00 00 00 00 00 00  ................
0xFF70:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFF80:    00 00 00 0D 00 00 00 8F FF 00 00 C4 00 00 00 06  ................
0xFF90:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFFA0:    00 00 00 00 00 00 00 00 00 00 00 22 00 00 00 B7  ..........."....
0xFFB0:    FF 00 00 C4 00 00 00 08 00 00 00 00 00 00 00 00  ................
0xFFC0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFFD0:    00 00 00 00 00 00 00 DF FF 00 00 18 00 00 00 0A  ................
0xFFE0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
0xFFF0:    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
```

## dumps

```
Disassembly of section .data:

00000000 <.data>:
   0:   27bdffe0        addiu   sp,sp,-32
   4:   afbf001c        sw      ra,28(sp)
   8:   afbe0018        sw      s8,24(sp)
   c:   03a0f021        move    s8,sp
  10:   2404000a        li      a0,10
  14:   0c000011        jal     0x44
  18:   00200825        move    at,at
  1c:   00401821        move    v1,v0
  20:   3c020001        lui     v0,0x1
  24:   ac438000        sw      v1,-32768(v0)
  28:   00001021        move    v0,zero
  2c:   03c0e821        move    sp,s8
  30:   8fbf001c        lw      ra,28(sp)
  34:   8fbe0018        lw      s8,24(sp)
  38:   27bd0020        addiu   sp,sp,32
  3c:   03e00008        jr      ra
  40:   00200825        move    at,at
  44:   27bdffd8        addiu   sp,sp,-40
  48:   afbf0024        sw      ra,36(sp)
  4c:   afbe0020        sw      s8,32(sp)
  50:   afb0001c        sw      s0,28(sp)
  54:   03a0f021        move    s8,sp
  58:   afc40028        sw      a0,40(s8)
  5c:   8fc20028        lw      v0,40(s8)
  60:   00200825        move    at,at
  64:   14400004        bnez    v0,0x78
  68:   00200825        move    at,at
  6c:   00001021        move    v0,zero
  70:   08000033        j       0xcc
  74:   00200825        move    at,at
  78:   8fc30028        lw      v1,40(s8)
  7c:   24020001        li      v0,1
  80:   14620004        bne     v1,v0,0x94
  84:   00200825        move    at,at
  88:   24020001        li      v0,1
  8c:   08000033        j       0xcc
  90:   00200825        move    at,at
  94:   8fc20028        lw      v0,40(s8)
  98:   00200825        move    at,at
  9c:   2442ffff        addiu   v0,v0,-1
  a0:   00402021        move    a0,v0
  a4:   0c000011        jal     0x44
  a8:   00200825        move    at,at
  ac:   00408021        move    s0,v0
  b0:   8fc20028        lw      v0,40(s8)
  b4:   00200825        move    at,at
  b8:   2442fffe        addiu   v0,v0,-2
  bc:   00402021        move    a0,v0
  c0:   0c000011        jal     0x44
  c4:   00200825        move    at,at
  c8:   02021021        addu    v0,s0,v0
  cc:   03c0e821        move    sp,s8
  d0:   8fbf0024        lw      ra,36(sp)
  d4:   8fbe0020        lw      s8,32(sp)
  d8:   8fb0001c        lw      s0,28(sp)
  dc:   27bd0028        addiu   sp,sp,40
  e0:   03e00008        jr      ra
  e4:   00200825        move    at,at
  e8:   00200825        move    at,at
  ec:   00200825        move    at,at
```


